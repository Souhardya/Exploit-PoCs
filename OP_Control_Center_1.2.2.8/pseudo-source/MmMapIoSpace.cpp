__int64 __fastcall sub_140006A28(unsigned int *a1, int a2, void *a3, unsigned int a4, unsigned int *a5)
{
  unsigned int v9; // ecx
  SIZE_T v10; // r14
  PVOID v11; // rax
  char v12; // bp
  __int64 v13; // rcx
  _DWORD *v14; // rdi
  _DWORD *v15; // rsi
  __int64 v16; // rcx
  _WORD *v17; // rdi
  _WORD *v18; // rsi

  if ( a2 != 12 )
    return 3221225485i64;
  v9 = a1[2] * a1[1];
  if ( a4 < v9 )
    return 3221225485i64;
  v10 = v9;
  v11 = MmMapIoSpace((PHYSICAL_ADDRESS)*a1, v9, MmNonCached);
  v12 = 0;
  switch ( a1[1] )
  {
    case 1u:
      qmemcpy(a3, v11, a1[2]);
      break;
    case 2u:
      v16 = a1[2];
      v17 = a3;
      v18 = v11;
      while ( v16 )
      {
        *v17++ = *v18++;
        --v16;
      }
      break;
    case 4u:
      v13 = a1[2];
      v14 = a3;
      v15 = v11;
      while ( v13 )
      {
        *v14++ = *v15++;
        --v13;
      }
      break;
    default:
      v12 = 1;
      break;
  }
  MmUnmapIoSpace(v11, v10);
  if ( v12 )
    return 3221225485i64;
  *a5 = a4;
  return 0i64;
}